# Multi-Strategy Betting Configuration
# Edit this file to enable/disable strategies and adjust parameters

# Global Settings
global:
  bankroll: 1000.0  # Starting bankroll (will be updated dynamically)
  kelly_fraction: 0.25  # 25% Kelly (conservative)
  max_daily_exposure: 0.15  # Max 15% of bankroll per day
  min_bet_size: 10.0  # Minimum bet size in dollars
  paper_trading: true  # Set to false for live betting

# Strategy Allocation (must sum to <= 1.0)
# Defines what % of bankroll each strategy can use
# CONSOLIDATED (2026-01-09): Removed totals (+0.9% ROI unprofitable) and live (untested)
# UPDATED (2026-01-10): Removed player props (disabled odds fetching)
#   - Reallocated props 35% â†’ spread 50%, b2b_rest 20%
#   - Focus on proven spread model + arbitrage + b2b structural edge
allocation:
  spread: 0.50     # 50% for spread betting (MAIN STRATEGY: proven 6.91% ROI, 56% WR)
  arbitrage: 0.30  # 30% allocation (VALIDATED: 10.93% avg profit, 36 arbs in 57 days)
  props: 0.00      # 0% allocation - DISABLED (odds fetching removed)
  b2b_rest: 0.20   # 20% allocation (INCREASED: +8.7% ROI, 57% WR)

# Per-Strategy Daily Limits
# Maximum number of bets per strategy per day
# UPDATED (2026-01-10): Adjusted limits after removing props (spread 50%, b2b_rest 20%)
daily_limits:
  spread: 15      # Max 15 spread bets per day (INCREASED: 50% allocation, main strategy)
  arbitrage: 5    # Max 5 arbitrage bets per day (capacity limited by arb availability)
  props: 0        # DISABLED (odds fetching removed)
  b2b_rest: 7     # Max 7 B2B rest bets per day (INCREASED: 20% allocation)

# Strategy-Specific Settings
strategies:
  # ARCHIVED: Totals and Live strategies removed (see archive/disabled_strategies/)
  # - totals: +0.9% ROI (unprofitable)
  # - live: Not tested in production

  # Arbitrage Detection
  arbitrage:
    enabled: true   # ENABLED - backtest: 36 arbs, 10.93% avg profit
    min_arb_profit: 0.01  # 1% minimum profit
    bookmakers:
      - draftkings
      - fanduel
      - betmgm
      - betrivers
      - bovada
      - lowvig
      - fanatics
      - williamhill_us
      - mybookieag
      - betonlineag
      - betus

  # Player Props
  props:
    enabled: false  # DISABLED - player props odds fetching removed
    min_edge: 0.05
    prop_types:
      - PTS    # Points (27.1% ROI)
      - REB    # Rebounds (55.8% ROI)
      - AST    # Assists (89.4% ROI)
      - 3PM    # Three-pointers made (55.0% ROI)
    models_dir: "models/player_props"  # Simplified path (player_props_production removed)

    # Safety filters (lineup/injury protection)
    require_starter: true        # Only bet on confirmed starters
    skip_questionable: true      # Skip players with injury designation (Q, D)

  # B2B Rest Advantage
  b2b_rest:
    enabled: true   # ENABLED - backtest: +8.7% ROI, 57% win rate
    min_rest_advantage: 2  # Minimum rest day difference
    min_edge: 0.05  # INCREASED: 5% minimum edge (was 3%, now matches spread)

  # Spread Betting (legacy EdgeStrategy)
  spread:
    enabled: true   # ENABLED - validated +23.6% ROI with 5%+ edge
    min_edge: 0.07  # INCREASED: 7% minimum edge (was 5%, backtest showed 3-5% loses money)
    min_edge_home: 0.10  # HOME PENALTY: 10% edge required for home bets (away: 11.36% ROI, home: 4.81% ROI)
    prefer_away: true  # ENABLED: Strongly prefer away bets (11.36% ROI vs 4.81%)
    clv_filter: true
    optimal_timing: true  # ENABLED: Use empirical timing optimization (1-4hr window)
    use_timing_advisor: true  # ENABLED: Apply BetTimingAdvisor filter (see docs/BET_TIMING_ANALYSIS.md)

# Risk Management
risk:
  # Drawdown Protection
  drawdown_warning_threshold: 0.10  # 10% drawdown warning
  drawdown_pause_threshold: 0.20    # 20% drawdown pause betting
  drawdown_hard_stop: 0.30          # 30% drawdown circuit breaker

  # Correlation Limits
  max_same_team_exposure: 0.15      # Max 15% on same team
  max_same_game_exposure: 0.10      # Max 10% on same game
  max_conference_exposure: 0.30     # Max 30% on same conference
  max_division_exposure: 0.20       # Max 20% on same division

  # Position Sizing
  correlation_penalty_factor: 0.5   # Reduce size by 50% for correlated bets
  high_correlation_threshold: 0.6   # Correlation > 60% triggers penalty

# Reporting
reporting:
  # Discord Webhook (optional)
  discord_webhook_url: null  # Set in .env as DISCORD_WEBHOOK_URL

  # Daily Report Settings
  send_daily_report: true
  report_time: "09:00"  # Send report at 9 AM

  # Metrics to Track
  track_by_strategy: true
  track_by_bet_type: true
  track_roi_by_edge_bucket: true

# Development/Testing
dev:
  # Use mock data for testing
  use_mock_data: false

  # Verbose logging
  verbose: false

  # Dry run mode (show recommendations without logging)
  dry_run: false
